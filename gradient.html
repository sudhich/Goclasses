<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Why We Need Gradient Descent</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .example-section {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .example-title {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #FFD700;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        .math-formula {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            margin: 10px 0;
            border-left: 4px solid #FFD700;
        }
        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 10px;
        }
        .controls {
            display: flex;
            gap: 15px;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        button {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        .result-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 2px solid #4ECDC4;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
        }
        .pros-cons {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
        }
        .pros {
            border-left: 4px solid #4CAF50;
        }
        .cons {
            border-left: 4px solid #F44336;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Why We Need Gradient Descent</h1>
        
        <!-- Example 1: Simple Case -->
        <div class="example-section">
            <div class="example-title">üìä Example 1: Linear Regression (Easy Case)</div>
            <p><strong>Problem:</strong> Predict house prices based on size</p>
            <div class="math-formula">
                Price = a √ó Size + b<br>
                Loss = (Actual Price - Predicted Price)¬≤
            </div>
            <p><strong>Solution:</strong> We can solve this directly with math! No gradient descent needed.</p>
            <div class="result-box">
                ‚úÖ <strong>Direct Solution:</strong> Use normal equations to find perfect a and b instantly!
            </div>
        </div>

        <!-- Example 2: Complex Case -->
        <div class="example-section">
            <div class="example-title">üß† Example 2: Neural Network (Complex Case)</div>
            <p><strong>Problem:</strong> Recognize handwritten digits (0-9)</p>
            <div class="math-formula">
                Input ‚Üí Hidden Layer 1 ‚Üí Hidden Layer 2 ‚Üí Output<br>
                Each layer: Output = activation(Weight √ó Input + Bias)<br>
                Total parameters: Thousands or millions!
            </div>
            <p><strong>Why Direct Solution Won't Work:</strong></p>
            <ul>
                <li>ü§Ø Millions of interconnected parameters</li>
                <li>üåÄ Non-linear activation functions</li>
                <li>üìà No mathematical formula to solve directly</li>
                <li>üíæ Would require impossible amounts of memory</li>
            </ul>
        </div>

        <!-- Interactive Gradient Descent Demo -->
        <div class="example-section">
            <div class="example-title">üéÆ Interactive Demo: Finding the Minimum</div>
            <p>Imagine you're trying to find the lowest point on this hill (minimize error):</p>
            
            <div class="chart-container">
                <canvas id="lossChart"></canvas>
            </div>
            
            <div class="controls">
                <button onclick="resetDemo()">üîÑ Reset</button>
                <button onclick="takeStep()">üë£ Take One Step</button>
                <button onclick="runGradientDescent()">üöÄ Run Full Algorithm</button>
                <button onclick="showDirectSolution()">‚ö° Show Direct Solution</button>
            </div>
            
            <div class="result-box" id="results">
                üéØ Click buttons to see gradient descent in action!
            </div>
        </div>

        <!-- Comparison -->
        <div class="comparison">
            <div class="pros-cons pros">
                <h3>‚úÖ Direct Solution (When Possible)</h3>
                <ul>
                    <li>Instant results</li>
                    <li>Mathematically perfect</li>
                    <li>No iterations needed</li>
                </ul>
            </div>
            <div class="pros-cons cons">
                <h3>üî• Gradient Descent (When Needed)</h3>
                <ul>
                    <li>Works with any complexity</li>
                    <li>Handles millions of parameters</li>
                    <li>Memory efficient</li>
                    <li>Scalable to big data</li>
                </ul>
            </div>
        </div>

        <!-- Real World Examples -->
        <div class="example-section">
            <div class="example-title">üåç Real-World Examples Requiring Gradient Descent</div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <h4>üñºÔ∏è Image Recognition</h4>
                    <p>CNN with millions of weights</p>
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <h4>üí¨ Language Models</h4>
                    <p>Transformers like ChatGPT</p>
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <h4>üéµ Recommendation Systems</h4>
                    <p>Netflix, Spotify algorithms</p>
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <h4>üöó Self-Driving Cars</h4>
                    <p>Deep reinforcement learning</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let chart;
        let currentPosition = -3;
        let steps = [];
        let isRunning = false;

        // Loss function: (x-1)^2 + 2 (minimum at x=1)
        function lossFunction(x) {
            return Math.pow(x - 1, 2) + 2;
        }

        // Derivative of loss function: 2(x-1)
        function gradient(x) {
            return 2 * (x - 1);
        }

        function initChart() {
            const ctx = document.getElementById('lossChart').getContext('2d');
            
            // Generate curve data
            const xValues = [];
            const yValues = [];
            for (let x = -4; x <= 4; x += 0.1) {
                xValues.push(x);
                yValues.push(lossFunction(x));
            }

            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: xValues,
                    datasets: [{
                        label: 'Loss Function',
                        data: yValues,
                        borderColor: 'rgb(75, 192, 192)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderWidth: 3,
                        fill: true
                    }, {
                        label: 'Current Position',
                        data: [],
                        borderColor: 'rgb(255, 99, 132)',
                        backgroundColor: 'rgb(255, 99, 132)',
                        pointRadius: 8,
                        pointHoverRadius: 10,
                        showLine: false
                    }, {
                        label: 'Path Taken',
                        data: [],
                        borderColor: 'rgb(255, 206, 86)',
                        backgroundColor: 'rgba(255, 206, 86, 0.5)',
                        borderWidth: 2,
                        pointRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Loss Function: Finding the Minimum Point',
                            color: 'black',
                            font: { size: 16 }
                        },
                        legend: {
                            labels: { color: 'black' }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Parameter Value',
                                color: 'black'
                            },
                            ticks: { color: 'black' }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Loss (Error)',
                                color: 'black'
                            },
                            ticks: { color: 'black' }
                        }
                    }
                }
            });

            updateChart();
        }

        function updateChart() {
            // Update current position
            const currentLoss = lossFunction(currentPosition);
            chart.data.datasets[1].data = [{x: currentPosition, y: currentLoss}];
            
            // Update path
            chart.data.datasets[2].data = steps.map(step => ({x: step, y: lossFunction(step)}));
            
            chart.update('none');
        }

        function resetDemo() {
            currentPosition = -3;
            steps = [];
            isRunning = false;
            updateChart();
            document.getElementById('results').innerHTML = 'üéØ Reset! Starting position: ' + currentPosition.toFixed(2) + 
                ' | Loss: ' + lossFunction(currentPosition).toFixed(2);
        }

        function takeStep() {
            if (isRunning) return;
            
            steps.push(currentPosition);
            const grad = gradient(currentPosition);
            const learningRate = 0.3;
            const newPosition = currentPosition - learningRate * grad;
            
            document.getElementById('results').innerHTML = 
                `üìç Step ${steps.length}:<br>` +
                `Current position: ${currentPosition.toFixed(3)}<br>` +
                `Gradient: ${grad.toFixed(3)}<br>` +
                `Step: ${currentPosition.toFixed(3)} - ${learningRate} √ó ${grad.toFixed(3)} = ${newPosition.toFixed(3)}<br>` +
                `Loss: ${lossFunction(currentPosition).toFixed(3)} ‚Üí ${lossFunction(newPosition).toFixed(3)}`;
            
            currentPosition = newPosition;
            updateChart();

            if (Math.abs(grad) < 0.01) {
                document.getElementById('results').innerHTML += '<br>üéâ <strong>Converged! Found minimum!</strong>';
            }
        }

        async function runGradientDescent() {
            if (isRunning) return;
            isRunning = true;
            
            while (Math.abs(gradient(currentPosition)) > 0.01 && steps.length < 50) {
                takeStep();
                await new Promise(resolve => setTimeout(resolve, 500));
            }
            
            isRunning = false;
            document.getElementById('results').innerHTML += '<br>üöÄ <strong>Gradient Descent Complete!</strong>';
        }

        function showDirectSolution() {
            document.getElementById('results').innerHTML = 
                '‚ö° <strong>Direct Solution:</strong><br>' +
                'For this simple function f(x) = (x-1)¬≤ + 2<br>' +
                'We can solve directly: minimum at x = 1<br>' +
                'But for complex neural networks, this is impossible!<br>' +
                '<strong>That\'s why we need gradient descent! üéØ</strong>';
            
            // Show optimal point
            chart.data.datasets[1].data = [{x: 1, y: lossFunction(1)}];
            chart.update();
        }

        // Initialize when page loads
        window.onload = function() {
            initChart();
            resetDemo();
        };
    </script>
</body>
</html>